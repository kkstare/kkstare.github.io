window.__require=function t(e,o,n){function c(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){return c(e[i][1][t]||t)},u,u.exports,t,e,o,n)}return o[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<n.length;i++)c(n[i]);return c}({image:[function(t,e,o){"use strict";cc._RF.push(e,"698345HaJJAvIy/yV4L0rVY","image");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){var t=this,e=300*Math.random(),o=550*Math.random(),n=Math.random()>.5?1:-1,c=Math.random()>.5?1:-1,r=Math.random()>.5?1:-1,i=30*Math.random();this.node.x=n*e,this.node.y=c*o,this.node.angle=r*i;var a=Math.ceil(92*Math.random());cc.loader.loadRes("images/window/"+a,cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o}),Math.random()>.5?this.fadeInAImage():this.scaleInAImage(),this.scheduleOnce(function(){Math.random()>.5?this.scaleOutImage():this.fadeOutAImage()},8),this.scheduleOnce(function(){this.node.destroy()},20)},e.prototype.init2=function(){var t=this;this.node.x=-500,this.node.y=0,this.node.scale=.5,this.node.opacity=150;var e=Math.ceil(10*Math.random());cc.loader.loadRes("images/scroll/"+e,cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o}),this.scrollToRight()},e.prototype.init3=function(t){var e=Math.ceil(4*Math.random());cc.loader.loadRes("images/bg/"+e,cc.SpriteFrame,function(e,o){e?console.log(e):t.getComponent(cc.Sprite).spriteFrame=o})},e.prototype.scrollToRight=function(){this.node.runAction(cc.moveBy(5,cc.v2(2e3,0))),this.scheduleOnce(function(){this.node.destroy()},6)},e.prototype.scaleInAImage=function(){this.node.scale=Math.random()/4+.15;var t=.4+Math.random()/4;this.node.runAction(cc.scaleTo(1,t))},e.prototype.fadeInAImage=function(){this.node.opacity=0,this.node.scale=.5,this.node.runAction(cc.fadeIn(1))},e.prototype.fadeOutAImage=function(){this.node.runAction(cc.fadeOut(1))},e.prototype.scaleOutImage=function(){this.node.runAction(cc.scaleTo(1,0))},e.prototype.start=function(){},e=c([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],main:[function(t,e,o){"use strict";cc._RF.push(e,"517b1smAktLAbkL8hDiVY9m","main");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageNode=null,e.scrollNode=null,e.heartNode=null,e.bg1=null,e.bg2=null,e.image=null,e.heart=null,e}return n(e,t),e.prototype.onLoad=function(){for(var t=this,e=1;e<92;e++)cc.loader.loadRes("images/window/"+e,cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o});for(e=1;e<11;e++)cc.loader.loadRes("images/scroll/"+e,cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o});for(e=1;e<5;e++)cc.loader.loadRes("images/bg/"+e,cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o});this.schedule(function(){this.createANewImage()},1),this.schedule(function(){this.addAImage()},5),this.schedule(function(){this.changeBg()},10),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation());this.createAqq(e)},this),this.heartNode.on("clickHeart",function(t){this.createAboom(t)},this),this.heartNode.on("clickLetter",function(t){this.createALabel(t)},this)},e.prototype.addATip=function(){var t=cc.instantiate(this.heart);t.getComponent("tip").init(),t.parent=this.heartNode},e.prototype.createAqq=function(t){var e=cc.instantiate(this.heart);e.getComponent("tip").init2(t),e.parent=this.heartNode},e.prototype.createAboom=function(t){},e.prototype.createALabel=function(t){},e.prototype.createANewImage=function(){var t=cc.instantiate(this.image);t.getComponent("image").init(),t.parent=this.imageNode},e.prototype.addAImage=function(){var t=cc.instantiate(this.image);t.getComponent("image").init2(),t.parent=this.scrollNode},e.prototype.changeBg=function(){cc.instantiate(this.image).getComponent("image").init3(this.bg1)},e.prototype.start=function(){},c([a(cc.Node)],e.prototype,"imageNode",void 0),c([a(cc.Node)],e.prototype,"scrollNode",void 0),c([a(cc.Node)],e.prototype,"heartNode",void 0),c([a(cc.Node)],e.prototype,"bg1",void 0),c([a(cc.Node)],e.prototype,"bg2",void 0),c([a(cc.Prefab)],e.prototype,"image",void 0),c([a(cc.Prefab)],e.prototype,"heart",void 0),e=c([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],tip:[function(t,e,o){"use strict";cc._RF.push(e,"94778ACtZ1FSbr7fGgr1R9C","tip");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){var t=this,e=Math.random()>.5?4:5;cc.loader.loadRes("images/heart/"+e,cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o});this.node.x=-500,this.node.y=0,this.node.scale=.5,this.scrollToRight(),4==e?(this.scaleForever(),this.registClickEvent1()):(this.shakeForever(),this.registClickEvent2())},e.prototype.init2=function(t){this.node.scale=0,this.node.x=t.x,this.node.y=t.y;var e=300*Math.random(),o=Math.random()/4+.2,n=Math.random()+1;this.node.runAction(cc.scaleTo(n,o)),this.node.runAction(cc.moveBy(4,cc.v2(0,300+e))),this.scheduleOnce(function(){this.node.runAction(cc.fadeOut(2))},2),this.scheduleOnce(function(){this.node.destroy()},5)},e.prototype.init3=function(){var t=this;cc.loader.loadRes("images/heart/3",cc.SpriteFrame,function(e,o){e?console.log(e):t.node.getComponent(cc.Sprite).spriteFrame=o})},e.prototype.registClickEvent1=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=this.node.parent.convertToNodeSpaceAR(t.getLocation());this.node.parent.emit("clickHeart",e)},this)},e.prototype.registClickEvent2=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=this.node.parent.convertToNodeSpaceAR(t.getLocation());this.node.parent.emit("clickLetter",e)},this)},e.prototype.scrollToRight=function(){this.node.runAction(cc.moveBy(10,cc.v2(2e3,0))),this.scheduleOnce(function(){this.node.destroy()},6)},e.prototype.scaleForever=function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.6),cc.scaleTo(.5,.4))))},e.prototype.shakeForever=function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(.5,-10),cc.rotateBy(.5,10))))},e.prototype.start=function(){},e=c([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{}]},{},["image","main","tip"]);